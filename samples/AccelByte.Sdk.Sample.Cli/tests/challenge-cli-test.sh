#!/usr/bin/env bash

# Copyright (c) 2021 AccelByte Inc. All Rights Reserved.
# This is licensed software from AccelByte Inc, for limitations
# and restrictions contact your company contract manager.

# This code is generated by tool. DO NOT EDIT.

# Meta:
# - random seed: 512
# - template file: cli-test.j2

# Instructions:
# - Run the Justice SDK Mock Server first before running this script.

export AB_BASE_URL="http://127.0.0.1:8080"
export AB_CLIENT_ID="admin"
export AB_CLIENT_SECRET="admin"
export AB_NAMESPACE="test"
export AB_APP_NAME="UnitTest"

EXIT_CODE=0

eval_tap() {
  if [ $1 -eq 0 ]; then
    echo "ok $2 - $3"
  else
    EXIT_CODE=1
    echo "not ok $2 - $3"
    sed 's/^/# /g' $4
  fi
  rm -f $4
}

CLI_EXE="AccelByte.Sdk.Sample.Cli"
CLI_TOKEN_FILE="$(dirname "$(which $CLI_EXE)")/token.json"
TEMP_JSON_INPUT="input_json.json"
TEMP_FILE_UPLOAD="file_upload.bin"

echo "TAP version 13"
echo "1..39"

#- 1 Login
$CLI_EXE --op login --lt user --user user --pass user > test.out 2>&1
eval_tap $? 1 'Login' test.out

if [ $EXIT_CODE -ne 0 ]; then
  echo "Bail out! Login failed."
  exit $EXIT_CODE
fi

# echo "foo" > "$CLI_TOKEN_FILE"

#- 2 AdminGetChallenges
$CLI_EXE \
    --sn challenge \
    --op AdminGetChallenges \
    --namespace $AB_NAMESPACE \
    --keyword 'bBuz5zkoaUEzGS3q' \
    --limit '12' \
    --offset '79' \
    --sortBy 'updatedAt:desc' \
    --status 'TIED' \
    --tags '["qpQwkRRHkaiKsmIi", "RLR3IlNJKxhPfWV6", "dIabcFbSmeuIBroF"]' \
    > test.out 2>&1
eval_tap $? 2 'AdminGetChallenges' test.out

#- 3 AdminCreateChallenge
# body param: body
echo '{"activeGoalsPerRotation": 99, "assignmentRule": "CUSTOM", "code": "oXFeqeuI2oMJ0cgA", "description": "oGfXepE3r5AQUBqS", "endAfter": 75, "endDate": "1975-06-14T00:00:00Z", "goalsVisibility": "PERIODONLY", "name": "J58QqcV3IcuNs9MF", "randomizedPerRotation": true, "repeatAfter": 17, "resetConfig": {"resetDate": 93, "resetDay": 1, "resetTime": "2KD18yrWorpC65VJ"}, "rotation": "DAILY", "startDate": "1976-02-04T00:00:00Z", "tags": ["q1z1KJmKedBfbWvK", "a5Ou124TsbQsxYFx", "GGHrfQkgXkiA5IZP"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminCreateChallenge \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 3 'AdminCreateChallenge' test.out

#- 4 AdminGetItemReferences
$CLI_EXE \
    --sn challenge \
    --op AdminGetItemReferences \
    --namespace $AB_NAMESPACE \
    --itemId 'qCqp9vcyt67WAfWX' \
    > test.out 2>&1
eval_tap $? 4 'AdminGetItemReferences' test.out

#- 5 AdminGetActiveChallenges
$CLI_EXE \
    --sn challenge \
    --op AdminGetActiveChallenges \
    --namespace $AB_NAMESPACE \
    --userId 'fUfwGB03tz8qIH4u' \
    --limit '89' \
    --offset '7' \
    > test.out 2>&1
eval_tap $? 5 'AdminGetActiveChallenges' test.out

#- 6 AdminGetChallenge
$CLI_EXE \
    --sn challenge \
    --op AdminGetChallenge \
    --challengeCode '4ID5l5wj6K2wEMnc' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 6 'AdminGetChallenge' test.out

#- 7 AdminUpdateChallenge
# body param: body
echo '{"activeGoalsPerRotation": 22, "assignmentRule": "FIXED", "description": "tJtiNmY3y3n2Rim4", "endAfter": 82, "endDate": "1977-08-15T00:00:00Z", "goalsVisibility": "PERIODONLY", "name": "qhuNtj8FOvKZjs1t", "randomizedPerRotation": false, "repeatAfter": 31, "resetConfig": {"resetDate": 93, "resetDay": 62, "resetTime": "GYKqRMSTisP0MrSd"}, "rotation": "DAILY", "startDate": "1984-09-11T00:00:00Z", "tags": ["2zyZsb4FvWFIHPIb", "Ojpls9BZTYc5BsdS", "SVaAzzn4GbgkKeCa"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminUpdateChallenge \
    --challengeCode 'S6qyUCscHXs8PlOB' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 7 'AdminUpdateChallenge' test.out

#- 8 AdminDeleteChallenge
$CLI_EXE \
    --sn challenge \
    --op AdminDeleteChallenge \
    --challengeCode 'lfUOqv7WmCuqcsNM' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 8 'AdminDeleteChallenge' test.out

#- 9 AdminGetGoals
$CLI_EXE \
    --sn challenge \
    --op AdminGetGoals \
    --challengeCode '7YAnbq4DjmYUMhD9' \
    --namespace $AB_NAMESPACE \
    --limit '33' \
    --offset '73' \
    --sortBy 'updatedAt:desc' \
    --tags '["89D356pVsUtNandd", "zgwxYdQc5hEfefdo", "pcEM0JHfof2Hwi7v"]' \
    > test.out 2>&1
eval_tap $? 9 'AdminGetGoals' test.out

#- 10 AdminCreateGoal
# body param: body
echo '{"code": "g3osbh0fL2h7eJvA", "description": "S2W4uqkhwSC7Eajw", "isActive": false, "name": "LfvwPewrf19Njm50", "requirementGroups": [{"operator": "AND", "predicates": [{"id": "E9nXzhBC0uyMR4Xf", "matcher": "GREATER_THAN", "parameterName": "rdZaFeacGT2x6o28", "parameterType": "STATISTIC_CYCLE", "statCycleId": "jxyw7RHldq0m7NjU", "targetValue": 0.8243057367080492}, {"id": "95Z5XDLBN9YGVPtk", "matcher": "GREATER_THAN", "parameterName": "kcyAy4drHlPcXGGl", "parameterType": "ENTITLEMENT", "statCycleId": "w3veBfrpCrnbaxhE", "targetValue": 0.34331884558149073}, {"id": "n3SGqcH91fC3aJEo", "matcher": "GREATER_THAN_EQUAL", "parameterName": "wYh4gq7pRVZVLJiD", "parameterType": "STATISTIC_CYCLE", "statCycleId": "03vtlMFzeiMRkcOr", "targetValue": 0.8638398193674449}]}, {"operator": "AND", "predicates": [{"id": "TMIczbYilOziwG8C", "matcher": "GREATER_THAN_EQUAL", "parameterName": "LOzSZm9K3cMY617H", "parameterType": "STATISTIC_CYCLE", "statCycleId": "CYZaL46I3PgCcQ0a", "targetValue": 0.3736622646436848}, {"id": "TWnmyEYLZQTpvLH6", "matcher": "LESS_THAN", "parameterName": "PEBP8kSSFjeuL3wQ", "parameterType": "ACHIEVEMENT", "statCycleId": "YwmYFbxRvHYDCYwo", "targetValue": 0.5286521075543521}, {"id": "dmzXgf1ewUTvnu0e", "matcher": "GREATER_THAN", "parameterName": "RJOImSq37aeAaGq0", "parameterType": "USERACCOUNT", "statCycleId": "Ij53gXkmrayvcIYi", "targetValue": 0.7854530860252886}]}, {"operator": "AND", "predicates": [{"id": "2xkVgyRk10b27RdU", "matcher": "EQUAL", "parameterName": "KsSRzkf2HzBcEio5", "parameterType": "STATISTIC_CYCLE", "statCycleId": "yvuFv5z6wosJGnUy", "targetValue": 0.4551977339532619}, {"id": "MEbHh1uE4DmJ4Suj", "matcher": "EQUAL", "parameterName": "DjUw36GtZ83Jp2f9", "parameterType": "ACHIEVEMENT", "statCycleId": "jAqg9oGVEdC8mQir", "targetValue": 0.8597417694949437}, {"id": "Af0G6OrPH6ZsjpPg", "matcher": "LESS_THAN_EQUAL", "parameterName": "iwplLJdzYS9K0Vvw", "parameterType": "STATISTIC_CYCLE", "statCycleId": "HmR0vknXO45AUtNX", "targetValue": 0.7194194664891509}]}], "rewards": [{"itemId": "TItt35OJTfJBZX62", "itemName": "yI9g5RDrlzPFQmNu", "qty": 0.8896712546915402, "type": "STATISTIC"}, {"itemId": "zPHux3k3skhn3mWZ", "itemName": "jTYM95e4aa8xOJu7", "qty": 0.2826142479766769, "type": "STATISTIC"}, {"itemId": "dygfKmUkzj9mHFpf", "itemName": "f2vDkz68zorEgcEx", "qty": 0.33943381159670605, "type": "ENTITLEMENT"}], "schedule": {"endTime": "1995-10-24T00:00:00Z", "order": 96, "startTime": "1990-04-26T00:00:00Z"}, "tags": ["OgO5W8SUaZjCpNtJ", "SMm8kDi3Rwubq7wt", "RGdT447Oa51m6VLf"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminCreateGoal \
    --challengeCode 'jsw270pMmOQJrpEB' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 10 'AdminCreateGoal' test.out

#- 11 AdminGetGoal
$CLI_EXE \
    --sn challenge \
    --op AdminGetGoal \
    --challengeCode 'bVvBn8Lsf2qSAtiz' \
    --code 'V9hzsVbpJLtEZjuy' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 11 'AdminGetGoal' test.out

#- 12 AdminUpdateGoals
# body param: body
echo '{"description": "FhvbxX2DNbknfVv4", "isActive": false, "name": "XP8jBjK81t2V9TVa", "requirementGroups": [{"operator": "AND", "predicates": [{"id": "RxcREyU5CwqGJF6n", "matcher": "LESS_THAN", "parameterName": "eoZiRYkbhEM1zTNY", "parameterType": "ENTITLEMENT", "statCycleId": "ajlpk8lfuiJVcktl", "targetValue": 0.37981015962073894}, {"id": "9zJZVVCc9bpIHEWQ", "matcher": "LESS_THAN_EQUAL", "parameterName": "mcQmnsUigVynjGFy", "parameterType": "ENTITLEMENT", "statCycleId": "ozsjIXO2EUsAfBvo", "targetValue": 0.944430378890591}, {"id": "Llcalks2R3VMtipT", "matcher": "LESS_THAN", "parameterName": "qJvaZrf2qXQFCzRV", "parameterType": "STATISTIC_CYCLE", "statCycleId": "paELj5dw3LK0gPYh", "targetValue": 0.6712063684594116}]}, {"operator": "AND", "predicates": [{"id": "G5sAIfYtYozA2Ont", "matcher": "LESS_THAN_EQUAL", "parameterName": "QEkadMSQluAoED9o", "parameterType": "ACHIEVEMENT", "statCycleId": "wS8oLyErKvRtHFGJ", "targetValue": 0.7024343687263903}, {"id": "oGW7VBG1VB2sp2x9", "matcher": "GREATER_THAN", "parameterName": "el3TiwTycqpVdINX", "parameterType": "STATISTIC_CYCLE", "statCycleId": "TLwSH8hWRU9pbItG", "targetValue": 0.6793860915964227}, {"id": "7VUWBhGolwafIfbF", "matcher": "EQUAL", "parameterName": "GLFnrQ4T5cmw7U1T", "parameterType": "STATISTIC_CYCLE", "statCycleId": "egiD3mrVQaUr3oT8", "targetValue": 0.982992565644459}]}, {"operator": "AND", "predicates": [{"id": "Oi2cpajtqcXjPkj2", "matcher": "LESS_THAN_EQUAL", "parameterName": "5v71kGCEt7h1mVwI", "parameterType": "STATISTIC_CYCLE", "statCycleId": "2t9j1XT2ErwIxkaT", "targetValue": 0.22346210113020792}, {"id": "Ytr1YDnaXB0JOS4X", "matcher": "LESS_THAN_EQUAL", "parameterName": "kT5hcONCaOyATBFg", "parameterType": "STATISTIC", "statCycleId": "dKw4IP0NVnaangor", "targetValue": 0.12027070925370698}, {"id": "VFpTRuQyMroT2hNf", "matcher": "LESS_THAN_EQUAL", "parameterName": "00ofXsbnEzHiRs0N", "parameterType": "ENTITLEMENT", "statCycleId": "yKWssEn5VEvIMEB4", "targetValue": 0.24734225650221475}]}], "rewards": [{"itemId": "l506fLCG6EAl7d3K", "itemName": "s65thtnjcMSw1J42", "qty": 0.08695502653338238, "type": "STATISTIC"}, {"itemId": "xOdZdf9tLHO1qrNy", "itemName": "hmUEADczzrL31HuY", "qty": 0.5911011388661781, "type": "STATISTIC"}, {"itemId": "WvdiclkYGDL2ckC9", "itemName": "cdzaLnajQ8GnJpAL", "qty": 0.1388698702219009, "type": "ENTITLEMENT"}], "schedule": {"endTime": "1973-02-02T00:00:00Z", "order": 85, "startTime": "1982-10-25T00:00:00Z"}, "tags": ["9UUtG1tEECsm8xaD", "Oz0tMlpFuJVXo9s0", "JPG8cgjHQo9HoLLy"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminUpdateGoals \
    --challengeCode 'UnPTiCD0038or8wR' \
    --code '0tuwIJnrSI2IFcRw' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 12 'AdminUpdateGoals' test.out

#- 13 AdminDeleteGoal
$CLI_EXE \
    --sn challenge \
    --op AdminDeleteGoal \
    --challengeCode 'SoMTuJziuDNbOydi' \
    --code 'u3lOaruuYw0iUuts' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 13 'AdminDeleteGoal' test.out

#- 14 AdminListSchedulesByGoal
$CLI_EXE \
    --sn challenge \
    --op AdminListSchedulesByGoal \
    --challengeCode '6bChMK1gcx8p9fyv' \
    --code '5PoMJeTIQix1FEvz' \
    --namespace $AB_NAMESPACE \
    --limit '23' \
    --offset '91' \
    --userId 'ipE7r0vhh21v5772' \
    > test.out 2>&1
eval_tap $? 14 'AdminListSchedulesByGoal' test.out

#- 15 AdminGetPeriods
$CLI_EXE \
    --sn challenge \
    --op AdminGetPeriods \
    --challengeCode 'AopmjI7CbY2WuwRU' \
    --namespace $AB_NAMESPACE \
    --limit '94' \
    --offset '51' \
    > test.out 2>&1
eval_tap $? 15 'AdminGetPeriods' test.out

#- 16 AdminRandomizeChallenge
$CLI_EXE \
    --sn challenge \
    --op AdminRandomizeChallenge \
    --challengeCode '9IivgC4mJ5OHuNEV' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 16 'AdminRandomizeChallenge' test.out

#- 17 AdminListSchedules
$CLI_EXE \
    --sn challenge \
    --op AdminListSchedules \
    --challengeCode 'QK4Mvk00I9GqAhhj' \
    --namespace $AB_NAMESPACE \
    --dateTime '1991-10-11T00:00:00Z' \
    --limit '18' \
    --offset '88' \
    --userId 'vdIcaEQfNETQCBPK' \
    > test.out 2>&1
eval_tap $? 17 'AdminListSchedules' test.out

#- 18 AdminDeleteTiedChallenge
$CLI_EXE \
    --sn challenge \
    --op AdminDeleteTiedChallenge \
    --challengeCode '1mYwKVQoydbYjXZy' \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 18 'AdminDeleteTiedChallenge' test.out

#- 19 AdminUpdateTiedChallengeSchedule
# body param: body
echo '{"action": "STOP", "endDate": "1975-05-12T00:00:00Z"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminUpdateTiedChallengeSchedule \
    --challengeCode 'texB613cbiJEUePV' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 19 'AdminUpdateTiedChallengeSchedule' test.out

#- 20 AdminGetAssignmentPlugin
$CLI_EXE \
    --sn challenge \
    --op AdminGetAssignmentPlugin \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 20 'AdminGetAssignmentPlugin' test.out

#- 21 AdminUpdateAssignmentPlugin
# body param: body
echo '{"appName": "ZQaoEY2zrpLuvrx9", "extendType": "CUSTOM", "grpcServerAddress": "z45vMiR3QYZJKVNl"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminUpdateAssignmentPlugin \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 21 'AdminUpdateAssignmentPlugin' test.out

#- 22 AdminCreateAssignmentPlugin
# body param: body
echo '{"appName": "K8PTaIXRWFTyA9MD", "extendType": "APP", "grpcServerAddress": "aztJ86yQK1AsC18U"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminCreateAssignmentPlugin \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 22 'AdminCreateAssignmentPlugin' test.out

#- 23 AdminDeleteAssignmentPlugin
$CLI_EXE \
    --sn challenge \
    --op AdminDeleteAssignmentPlugin \
    --namespace $AB_NAMESPACE \
    > test.out 2>&1
eval_tap $? 23 'AdminDeleteAssignmentPlugin' test.out

#- 24 AdminEvaluateProgress
# body param: body
echo '{"userIds": ["O6JcXmwQfkseTpH6", "l2Dv8SvqYKc56PcP", "SL2xmjViKkKw4gHA"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminEvaluateProgress \
    --namespace $AB_NAMESPACE \
    --challengeCode '["4CaLsPqRsTdKzcKt", "kGcvn44NWse6VLPk", "M1VTrQBywhJ7lbBL"]' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 24 'AdminEvaluateProgress' test.out

#- 25 AdminClaimUsersRewards
# body param: body
echo '[{"rewardIds": ["w9xy1WQM5qUS8baU", "qkzSr41y6RPBHJuP", "jj8zDwOk0IgmYfUT"], "userId": "pFzyQhPVhRGX9xlU"}, {"rewardIds": ["KhXI8mL8OIhvP68x", "E68dzohxhbej2caI", "IfkXDY7jnhp3qY6T"], "userId": "7TUEBotSNIwGhia6"}, {"rewardIds": ["cqoWmnhtuzxir12r", "0VUWI0kJAczj5Apc", "siEQ65llgGnTHAsT"], "userId": "CZa7xE4nwGKlbPRx"}]' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminClaimUsersRewards \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 25 'AdminClaimUsersRewards' test.out

#- 26 AdminClaimUserRewardsByGoalCode
# body param: body
echo '{"goalCode": "fucxoRKFLxxcL9Sy"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminClaimUserRewardsByGoalCode \
    --challengeCode 'uHbvRxR6LaKWgAVj' \
    --namespace $AB_NAMESPACE \
    --userId 'ZKDxiezEbuMCz9J4' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 26 'AdminClaimUserRewardsByGoalCode' test.out

#- 27 AdminGetUserProgression
$CLI_EXE \
    --sn challenge \
    --op AdminGetUserProgression \
    --challengeCode 'dPRGzoQLYIWPPZvy' \
    --namespace $AB_NAMESPACE \
    --userId 'PupimCENHEenqjRS' \
    --dateTime '1983-09-29T00:00:00Z' \
    --goalCode 'O9oZ0fCxLR0GfjwC' \
    --limit '26' \
    --offset '12' \
    --tags '["DrbDR0Q0ixpqYtkZ", "uhL6qbAhRExsnbWS", "H45LarTmOqto4Otw"]' \
    > test.out 2>&1
eval_tap $? 27 'AdminGetUserProgression' test.out

#- 28 AdminGetUserRewards
$CLI_EXE \
    --sn challenge \
    --op AdminGetUserRewards \
    --namespace $AB_NAMESPACE \
    --userId 'F9uPUAxerdIqWmOo' \
    --challengeCode 'MyYp2tSrLxpJnj9J' \
    --goalProgressionId 'tgjWmjx1WuNQq4v8' \
    --limit '65' \
    --offset '27' \
    --sortBy 'createdAt:asc' \
    --status 'UNCLAIMED' \
    > test.out 2>&1
eval_tap $? 28 'AdminGetUserRewards' test.out

#- 29 AdminClaimUserRewards
# body param: body
echo '{"rewardIDs": ["VzdbNW1xuV7rVei1", "o9zV6rhVfcQmLfEn", "5ZUGeYlOwODWBAz6"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op AdminClaimUserRewards \
    --namespace $AB_NAMESPACE \
    --userId 'skHMfl4Hjw9KEnx8' \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 29 'AdminClaimUserRewards' test.out

#- 30 GetChallenges
$CLI_EXE \
    --sn challenge \
    --op GetChallenges \
    --namespace $AB_NAMESPACE \
    --keyword 'cNfDK45zWtwYhRoN' \
    --limit '85' \
    --offset '47' \
    --sortBy 'createdAt' \
    --status 'TIED' \
    --tags '["L598P7F3IKhiNdx1", "V7199NT7JTRFV3Fx", "Ml5Rw4YeHqWkG09i"]' \
    > test.out 2>&1
eval_tap $? 30 'GetChallenges' test.out

#- 31 PublicGetScheduledGoals
$CLI_EXE \
    --sn challenge \
    --op PublicGetScheduledGoals \
    --challengeCode 'EAFYWhow1WAwCs9Y' \
    --namespace $AB_NAMESPACE \
    --limit '75' \
    --offset '82' \
    --sortBy 'createdAt' \
    --tags '["LN2N6D6yczitn4Ok", "Zfx0Xa6sgegAWYz2", "z4qSPPQBDFQsvRHb"]' \
    > test.out 2>&1
eval_tap $? 31 'PublicGetScheduledGoals' test.out

#- 32 PublicListSchedulesByGoal
$CLI_EXE \
    --sn challenge \
    --op PublicListSchedulesByGoal \
    --challengeCode 'GTC2ynue7Xk4uDF5' \
    --code 'mdakWJ2AsKf8UfQq' \
    --namespace $AB_NAMESPACE \
    --limit '93' \
    --offset '88' \
    > test.out 2>&1
eval_tap $? 32 'PublicListSchedulesByGoal' test.out

#- 33 PublicListSchedules
$CLI_EXE \
    --sn challenge \
    --op PublicListSchedules \
    --challengeCode '74CqdvfPAIaPEkCI' \
    --namespace $AB_NAMESPACE \
    --dateTime '1996-12-12T00:00:00Z' \
    --limit '44' \
    --offset '99' \
    > test.out 2>&1
eval_tap $? 33 'PublicListSchedules' test.out

#- 34 PublicClaimUserRewardsByGoalCode
# body param: body
echo '{"goalCode": "Uyapo6FmMy6tZYSC"}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op PublicClaimUserRewardsByGoalCode \
    --challengeCode 'e7du68Ce6T4pYH3B' \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 34 'PublicClaimUserRewardsByGoalCode' test.out

#- 35 EvaluateMyProgress
$CLI_EXE \
    --sn challenge \
    --op EvaluateMyProgress \
    --namespace $AB_NAMESPACE \
    --challengeCode '["PyFurT4p8zoRYG8W", "KTaUyB0UyrKKulHU", "nompTrS7DIOakX65"]' \
    > test.out 2>&1
eval_tap $? 35 'EvaluateMyProgress' test.out

#- 36 PublicGetUserProgression
$CLI_EXE \
    --sn challenge \
    --op PublicGetUserProgression \
    --challengeCode 'w7RpxY6pd1QTpFpa' \
    --namespace $AB_NAMESPACE \
    --dateTime '1982-10-25T00:00:00Z' \
    --goalCode 'bCjHSCXM7sL1nnOo' \
    --limit '89' \
    --offset '70' \
    --tags '["Ig7oSh4yVttp53wa", "suHbA0keUomVCh68", "1OMZFNRw8YvLGLnB"]' \
    > test.out 2>&1
eval_tap $? 36 'PublicGetUserProgression' test.out

#- 37 PublicGetPastUserProgression
$CLI_EXE \
    --sn challenge \
    --op PublicGetPastUserProgression \
    --challengeCode '4xfqdHhPHA2ZbIvW' \
    --index '80' \
    --namespace $AB_NAMESPACE \
    --goalCode 'oxENH4MsVlbCMc5h' \
    --limit '48' \
    --offset '95' \
    --tags '["W14SkvovINegS29l", "egebqGwej59Ok8EM", "0OFW93FkJicmK6qe"]' \
    > test.out 2>&1
eval_tap $? 37 'PublicGetPastUserProgression' test.out

#- 38 PublicGetUserRewards
$CLI_EXE \
    --sn challenge \
    --op PublicGetUserRewards \
    --namespace $AB_NAMESPACE \
    --challengeCode 'aDEm9bPCS2a5WoOt' \
    --goalProgressionId 'wavdioadjCN0lC0M' \
    --limit '59' \
    --offset '90' \
    --sortBy 'updatedAt' \
    --status 'UNCLAIMED' \
    > test.out 2>&1
eval_tap $? 38 'PublicGetUserRewards' test.out

#- 39 PublicClaimUserRewards
# body param: body
echo '{"rewardIDs": ["vhZ7XQmcT57Hl2Pv", "POKvc25nnSLnEnv4", "ipAVJzPHM6kTwfu1"]}' > $TEMP_JSON_INPUT
$CLI_EXE \
    --sn challenge \
    --op PublicClaimUserRewards \
    --namespace $AB_NAMESPACE \
    --reqfile $TEMP_JSON_INPUT \
    > test.out 2>&1
eval_tap $? 39 'PublicClaimUserRewards' test.out


# remove artifacts
rm -f "$CLI_TOKEN_FILE"
rm -f "$TEMP_JSON_INPUT"
rm -f "$TEMP_FILE_UPLOAD"

exit $EXIT_CODE